{% extends "components/base_protected.html" %}
{% block extra_import %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="{{ url_for('static', filename='src/form.js') }}?v={{ config.cache }}"></script>
<script src="{{ url_for('static', filename='src/timer.js') }}?v={{ config.cache }}"></script>
{% endblock %}
{% block content %}
<div class="compact form-body">
    <div class="flex eight twelve-700">
        <button onclick="history.back()">&#10094;</button>
        <label for="modal_1" class="button">&#8263;</label>
    </div>
    <div class="modal">
        <input id="modal_1" type="checkbox" />
        <label for="modal_1" class="overlay"></label>
        <article>
            <section class="content navy-blue">
                Enter in the reps and weight for your exercises. When done with a set, just 
                press the rest time button. All inputs will be disabled while the timer is running. 
                To cancel the timer, just press it again.
            </section>
            <footer class="navy-blue">
                Click anywhere outside this box to exit
            </footer>
        </article>
    </div>
    <h3><span class="label">{{ config.workout.name }}</span></h3>

    <form action="/log/template/{{ config.template_id }}/log" method="post" id="workout-form" enctype="multipart/form-data">
        <p>Notes: {{ config.workout.notes }}</p>

        {% for exercise in config.workout.template %}
            <div class="exercise" style="overflow-x:auto;">
                <h4>{{ exercise.name }}</h4>
                <div class="flex five pseudo-header">
                    <p>{{ exercise.sets[0].unit|upper }}</p>
                    <p>LOAD</p>
                    <p>RPE</p>
                    <p>REST</p>
                </div>
                {% for set in exercise.sets %}
                    <div class="flex five pseudo-row">
                        <input name="count" value="{{ set.count }}"/>
                        <input name="load"/>
                        <p>{{ set.rpe }}</p>
                        {% if set.rest != '' %}
                        <a class="button baby-blue">{{ set.rest }}</a>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
        <span id="exercise-placeholder"></span>
        <button type="submit" value="Submit">Save</button>
    </form>
    
</div>
{% endblock %}
